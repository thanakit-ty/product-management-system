import{_ as P,s as B,r as o,d as D,g as p,a as s,x as y,i as R,j as f,v as _,A as l,D as k,t as m,m as q,u as H,z as M,o as c}from"./index-C5d7Pc4o.js";const T={class:"page"},A={class:"card","aria-label":"Register form"},W={class:"field"},E={class:"inputWrap"},N=["disabled"],U={class:"field"},L={class:"inputWrap"},Y=["disabled"],$={class:"field"},j={class:"inputWrap"},z=["type","disabled"],F=["disabled","aria-label","title"],I={class:"field"},J={class:"inputWrap"},G=["type","disabled"],K=["disabled","aria-label","title"],O={key:0,class:"alert",role:"alert"},Q={key:1,class:"alert",role:"alert"},X=["disabled"],Z={key:0},ee={key:1,class:"spinnerWrap"},se={class:"footerRow"},ae={class:"fineprint"},te={__name:"RegisterView",setup(le){const a=B(),w=H(),h=M(),g=o(""),d=o(""),i=o(""),u=o(""),n=o(!1),r=o(!1),v=o(""),S=D(()=>{const b=d.value.length>3,e=i.value.length>=6,t=u.value.length>=6;return b&&e&&t&&i.value===u.value});async function C(){if(v.value="",i.value!==u.value){v.value="Password and Confirm Password do not match";return}if(await a.register({name:g.value,email:d.value,password:i.value}),a.isAuthed){const b=h.query.redirect||"/";w.replace(String(b));return}w.replace({name:"login",query:{email:d.value,redirect:h.query.redirect||"/"}})}function x(){w.push({name:"login"})}function V(){alert("Terms page is not implemented yet.")}return(b,e)=>(c(),p("div",T,[e[18]||(e[18]=s("div",{class:"bg-orb orb-1"},null,-1)),e[19]||(e[19]=s("div",{class:"bg-orb orb-2"},null,-1)),s("main",A,[e[17]||(e[17]=s("header",{class:"header"},[s("div",{class:"logo","aria-hidden":"true"},"PM"),s("div",null,[s("h1",{class:"title"},"Create account"),s("p",{class:"subtitle"},"Join Product Management System")])],-1)),s("form",{class:"form",onSubmit:y(C,["prevent"])},[s("div",W,[e[7]||(e[7]=s("label",{class:"label",for:"name"},"Name",-1)),s("div",E,[e[6]||(e[6]=s("span",{class:"icon","aria-hidden":"true"},"ðŸ‘¤",-1)),f(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),class:"input",type:"text",autocomplete:"name",placeholder:"Your name",disabled:l(a).loading},null,8,N),[[_,g.value,void 0,{trim:!0}]])])]),s("div",U,[e[9]||(e[9]=s("label",{class:"label",for:"email"},"Email",-1)),s("div",L,[e[8]||(e[8]=s("span",{class:"icon","aria-hidden":"true"},"âœ‰ï¸",-1)),f(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>d.value=t),class:"input",type:"email",inputmode:"email",autocomplete:"email",placeholder:"you@email.com",required:"",disabled:l(a).loading},null,8,Y),[[_,d.value,void 0,{trim:!0}]])])]),s("div",$,[e[11]||(e[11]=s("label",{class:"label",for:"password"},"Password",-1)),s("div",j,[e[10]||(e[10]=s("span",{class:"icon","aria-hidden":"true"},"ðŸ”’",-1)),f(s("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),class:"input",type:n.value?"text":"password",autocomplete:"new-password",placeholder:"At least 6 characters",required:"",minlength:"6",disabled:l(a).loading},null,8,z),[[k,i.value]]),s("button",{type:"button",class:"ghostBtn",onClick:e[3]||(e[3]=t=>n.value=!n.value),disabled:l(a).loading,"aria-label":n.value?"Hide password":"Show password",title:n.value?"Hide password":"Show password"},m(n.value?"Hide":"Show"),9,F)])]),s("div",I,[e[13]||(e[13]=s("label",{class:"label",for:"confirm"},"Confirm password",-1)),s("div",J,[e[12]||(e[12]=s("span",{class:"icon","aria-hidden":"true"},"ðŸ”",-1)),f(s("input",{id:"confirm","onUpdate:modelValue":e[4]||(e[4]=t=>u.value=t),class:"input",type:r.value?"text":"password",autocomplete:"new-password",placeholder:"Re-enter your password",required:"",minlength:"6",disabled:l(a).loading},null,8,G),[[k,u.value]]),s("button",{type:"button",class:"ghostBtn",onClick:e[5]||(e[5]=t=>r.value=!r.value),disabled:l(a).loading,"aria-label":r.value?"Hide confirm password":"Show confirm password",title:r.value?"Hide confirm password":"Show confirm password"},m(r.value?"Hide":"Show"),9,K)])]),v.value?(c(),p("div",O,[e[14]||(e[14]=s("span",{class:"alertDot","aria-hidden":"true"},null,-1)),s("span",null,m(v.value),1)])):l(a).error?(c(),p("div",Q,[e[15]||(e[15]=s("span",{class:"alertDot","aria-hidden":"true"},null,-1)),s("span",null,m(l(a).error),1)])):R("",!0),s("button",{class:"primaryBtn",type:"submit",disabled:l(a).loading||!S.value},[l(a).loading?(c(),p("span",ee,[...e[16]||(e[16]=[s("span",{class:"spinner","aria-hidden":"true"},null,-1),q(" Creating... ",-1)])])):(c(),p("span",Z,"Create account"))],8,X),s("div",se,[s("a",{class:"link",href:"",onClick:y(x,["prevent"])},"Already have an account? Login"),s("a",{class:"link muted",href:"",onClick:y(V,["prevent"])},"Terms")])],32),s("footer",ae," Â© "+m(new Date().getFullYear())+" PMS â€¢ By creating an account, you agree to the Terms ",1)])]))}},ie=P(te,[["__scopeId","data-v-7fe965d3"]]);export{ie as default};
